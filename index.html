<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		<style>
			
			.main {
			}
			nav {
				border-bottom: 2px solid #000000;
			}
			.cartImg {
				border: 2px solid yellow;
			}
			
			.fa-shopping-cart {
				color: #CC1B21;
				
			}
			.fa-shopping-cart:hover {
				color: #ef0915;
			}
			.row-wrapper {
				margin-top: 20px;
				margin-bottom: 20px;
			}
			.form {
				text-align: center;
			}
			
			input[name=quantity] {
				width: 40%;
			}
			
			.addCart {
				background-color: #000000;
				border: 1px solid #000000;
				color: #ffffff;
				padding: 5px 15px;
				transition: all 0.5s linear;
			}
			
			.addCart:hover {
				background-color: #ffffff;
				color: #000000;
			}
			
			.fixed-nav {
				position: fixed;
				top: 0;
				left: 0;
				right: 0;
				z-index: 100;
				background-color: #000000;
			}
			
			.cart-section {
				margin-bottom: 20px;
			}
			.cart-section h2 {
				margin: 20px 0px;
			}
			
		</style>
	</head>
	<body>
	<nav class="navbar navbar-expand-lg navbar-light" id="top-navbar">
	<a class="navbar-brand" href="#" style="color: #CC1B21;"><b>My Online Store</b></a>
	
	<div class="navbar-nav ml-auto" id="navbarText">
	 	<i class="fa fa-shopping-cart fa-2x" aria-hidden="true"></i>  
    </div>
</nav>
<div class="main">
<div class="container-fluid">
	<div class="row row-wrapper">
		<div class="col-md-4">
			<img class="img-fluid mx-auto d-block" src="image/nightCream.jpg" alt="img1" width="100%" height="300px"/>
			<p class="itemPrice text-center">10.00</p>
			<div class="form">
				<input type="number" min="1" max="10" class="quantity" name="quantity" value="1">
				<button class="addCart" id="addCart" type="submit" name="Nourishing Cream">Add to Cart</button>
			</div>
		</div>
		
		<div class="col-md-4">
			<img class="img-fluid mx-auto d-block" src="image/cleanser.jpg" alt="" width="100%" height="300px"/>
			<p class="itemPrice text-center">20.00</p>
			<div class="form">
				<input type="number" min="1" max="10" class="quantity" name="quantity" value="1">
				<button class="addCart" type="submit"  name="Face Cleanser">Add to Cart</button>
			</div>			
		</div>
		
		<div class="col-md-4">
			<img class="img-fluid mx-auto d-block" src="image/primer.jpg" alt="" width="100%" height="300px"/>
			<p class="itemPrice text-center">5.00</p>
			<div class="form">
				<input type="number" min="1" max="10" class="quantity" name="quantity" value="1">
				<button class="addCart" type="submit"  name="Face Primer">Add to Cart</button>
			</div>
			
		</div>
	</div>
	
	<div class="row row-wrapper">
		<div class="col-md-4">
			<img class="img-fluid mx-auto d-block" src="image/drop.jpg" alt="img1" width="100%" height="300px"/>
			<p class="itemPrice text-center">20.00</p>
			<div class="form">
				<input type="number" min="1" max="10" class="quantity" name="quantity" value="1">
				<button class="addCart" type="submit"  name="Face Oil">Add to Cart</button>
			</div>
		</div>
		
		<div class="col-md-4">
			<img class="img-fluid mx-auto d-block" src="image/faceBalm.jpg" alt="" width="100%" height="300px"/>
			<p class="itemPrice text-center">15.00</p>
			<div class="form">
				<input type="number" min="1" max="10" class="quantity" name="quantity" value="1">
				<button class="addCart" type="submit"  name="Face Balm">Add to Cart</button>
			</div>			
		</div>
		
		<div class="col-md-4">
			<img class="img-fluid mx-auto d-block" src="image/a.jpg" alt="" width="100%" height="300px"/>
			<p class="itemPrice text-center">30.00</p>
			<div class="form">
				<input type="number" min="1" max="10" class="quantity" name="quantity" value="1">
				<button class="addCart" type="submit"  name="Brush Set">Add to Cart</button>
			</div>			
		</div>
	</div>
	<br />
	<hr>
	<a id="1"></a>
		<div class="cart-section">
			<h2 class="text-center">My Shopping Cart</h2>
			<div class="row">
				
				
				
				<div class="col-sm-4">
					<p class="text-center"><b>Product</b></p>
					
				</div>
				<div class="col-sm-4">
					<p class="text-center"><b>Quantity</b></p>
					<p id="totalQty"></p>
				</div>
				<div class="col-sm-4">
					<p class="text-center"><b>Price</b></p>
					<p id="totalPrice"></p>
				</div>
				
				
			</div>
			
		</div>
		
			<div class="total-price">
				<div class="row">
					<div class="col-md-4">
						<p class="text-center"><b>Total</b></p>
					</div>
					<div class="col-md-4">
					</div>
					<div class="col-md-4">
						<p class="total text-center"></p>
					</div>
				</div>
			</div>
		</div>	

</div>
 
 	<script>
	 	
document.addEventListener('DOMContentLoaded', function(event){
	
	//making the top navbar change background color when scrolled
	
	let navbar = document.getElementById('top-navbar');
	
	window.addEventListener('scroll', function(){
		if(window.scrollY > 0){
			navbar.classList.add('fixed-nav');
			//console.log("dark nav")		
			
		} else {
			navbar.classList.remove('fixed-nav');
			//console.log('light nav');
		}
				
	}); // navbar color change when scrolled
	 
	 
	 
	 
	 let addToCartBtn = document.querySelectorAll('.addCart');
	 let inputQty = document.querySelectorAll('.quantity');
	  
	 let counter = 0;
	 
	 let totalQty = document.getElementById('totalQty');
	 let totalPrice = document.getElementById('totalPrice');
	 
	 let itemNotify = document.querySelector('.fa-shopping-cart');
	 
	 let cartDisplay = document.querySelector('.cart-section');
	 
	 addToCartBtn.forEach(function(btn, index){
		 btn.addEventListener('click', function(event){
			 console.log('Btn Clicked ' + index);
			 counter++;
			 console.log("inside Counter: " + counter);
			 console.log(event.target);
			 console.log(event.target.name)
			 itemNotify.innerHTML = ' &ndash; ' + counter;
			 
			 let itemPrice = event.target.parentNode.previousElementSibling.innerHTML;
			 let totalItemPrice = Number(itemPrice) * Number(event.target.previousElementSibling.value);
			 
			 let totalElem = document.querySelector('.total');
			
			 var itemPriceElem = document.getElementsByClassName('item-price');
			 
			 function estimatedTotal(){ 
				  var sum = totalItemPrice;
				 for(let i=0; i<itemPriceElem.length; i++){
					 sum += parseInt(itemPriceElem[i].innerHTML, 10);
				 }
				 console.log(sum);
				 return sum;
			 } //function that returns the total amount of product price in cart
			 
			 totalElem.innerHTML =  estimatedTotal();
			 totalElem.style.fontWeight = "bold";
			 
			 cartDisplay.innerHTML += 
			 
`
			 	<div class="row">
				
				
				
				<div class="col-sm-4">
					<p class="text-center">${event.target.name}</p>
					
				</div>
				<div class="col-sm-4">
					<p class="text-center">${Number(event.target.previousElementSibling.value)}</p>
					<p id="totalQty"></p>
				</div>
				<div class="col-sm-4">
					<p class="text-center item-price">${totalItemPrice}</p>
					
				</div>
				
				
				
			</div>
 `
			 //console.log(event.target.previousElementSibling.value);
			 
			 
		 }); //adding click event to cart buttons
		 
	 });//for each fucntion to loop through btns
	 
		 
 }); //DOM Content loaded function ends
	 

	
	 
	 </script>
	</body>
</html>




